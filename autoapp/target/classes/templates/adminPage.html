<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title th:utext="${title}"></title>
<meta charset="utf-8">
<!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
<link rel="stylesheet" href="/css/4.1.3/bootstrap.min.css">
<script src="/js/3.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<link rel="stylesheet" href="/css/1.10.12/jquery.dataTables.min.css">
<script src="/js/1.10.12/jquery.dataTables.min.js"></script>
	
<script src="/js/admin.js"></script>
<script src="/js/reports.js"></script>
<script src="/js/manageinputs.js"></script>
<script src="/js/manageuser.js"></script>
<link rel="stylesheet" type="text/css" href="/css/admin.css">
<link rel="stylesheet" type="text/css" href="/css/dropdown.css">
</head>
<body style="font-family:calibri;font-size: 0.9rem;">

 
<nav class="navbar navbar-expand-lg navbar-light bg-light">
     <div id="navbarNavDropdown" class="navbar-collapse collapse">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item">
               <a class="navbar-brand" >Script Executor</a>
            </li>
        </ul>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="navbar-brand" >Waitrose</a>
            </li>
        </ul>
    </div>
</nav>
 
<div class="container-fluid">
        <div class="row">
            <div class="col-md-6"></div> 
            <div class="col-md-6 text-right align-self-end"><a  href="#" class="manageScripts">Manage Scripts</a> |
			<a  href="#" class="manageScriptInputs" >Manage Script Inputs</a> |
			<a  href="#" class="reports" >Reports</a> |
			<a  href="#" class="manageUsers" >Manage Users</a> |
			<a  href="#" class="manageGroup" >Manage Group</a></div>
        </div>
</div>

<div th:if="${scriptList != null}"> 
 <div id = "scriptlistDiv" style="padding-top:1.0rem;display: none;" class="table-responsive" th:object="${scriptList}" > 
   <div class="col-sm-4">
			<button type="button" class="btn btn-info add-new">
				<i class="fa fa-plus"></i> Add New
			</button>
		</div><br/> 
		
<table class="table table-striped scriptlist-header-fixed" id="manageScripts" >
    <thead>
      <tr>
        <th>#</th>
        <th>Script Name</th>
        <th>Description</th>
        <th>Location</th>
        <th>Prefix</th>
        <th>Access</th>  
        <th id = "runcolumn">Run</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody> <!-- "${iterator.index + 1}" -->
     <tr th:id="${item.location} + ${item.scriptName}+.+${item.prefix}" th:each="item :${scriptList}">     
        <td class="filterable-cell" th:text="${item.scriptId}" ></td>
        <td class="filterable-cell" th:text="${item.scriptName}"></td>
        <td class="filterable-cell" th:text="${item.scriptDesc}"></td>
        <td class="filterable-cell" th:text="${item.location}"></td>
        <td class="filterable-cell" th:text="${item.prefix}"></td>
        <td class="filterable-cell"  th:text="${item.access}"></td> 
        <td class="filterable-cell" ><a href="#" th:id="${item.scriptId}" class="run">run</a></td>
        <td class="filterable-cell"> <a href="#" th:id="${item.scriptId}" class="editscript"> Edit </a> <a href="#" th:id="${item.scriptId}"  class="removescript" >Remove</a> 
        <a href="#" th:id="${item.scriptId}" class="updatescript"> Save </a><a href="#" th:id="${item.scriptId}" class="cancelupdatescript"> Cancel </a></td>
    </tr> 
    </tbody>
  </table>
  </div>
  </div>
  
<div id = "main" class="container">
	<div class="row">
		<div class="col-md-6 col-md-offset-3">
			<form id = "inputForm" autocomplete="off" 
				th:object="${params}"  class="form-horizontal"
				role="form">				
				<div id = "postResultDiv1" style="padding-top:12px;"></div>
			</form>
		</div>
	</div>
</div>
<div id = "postResultDiv" class="container" style="display: none;padding-top:12px;margin-left:5vw;">
</div>

<div id = "addRemoveScriptsDiv" class="container" style="display: none;">
</div>

<div id = "addRemoveInputsDiv" style="width:900px;display: none;" >
 
<!-- todo  <div class="dropdown" >
				
				<div  th:if="${scriptList != null}" id="myDropdown" class="dropdown-content">
					<input type="text" placeholder="Search.." id="myInput" >
						<a th:each="item :${scriptList}" th:href="${item.scriptId}" th:text="${item.scriptName}">
				</div>
</div>
 -->

<div th:if="${scriptList != null}" id = "selectedScriptInputDiv" class="table-responsive" style="margin-left:5vw;padding-top:12px;width: 50%;">
			<select th:id="selectScriptName" class="form-control">
				<option>Please select the script ...</option>
				<option th:each="item :${scriptList}" th:value="${item.scriptId}"
					th:text="${item.scriptName}"></option>
			</select>
</div>	

<div id = "scriptInputResultDiv" class="containertable-responsive" style="display: none;padding-top:12px;margin-left:5vw;">
	<div class="col-sm-4">
		<button type= "button" class="btn btn-info add-new-input">
			<i class="fafa-plus"></i> Add New
		</button>
	</div>

	<div class="container table-responsive" style="padding-top:12px;" >
	<table class="table table-striped header-fixed" id = "manageScriptInputsTbl" >
    	<thead>
    	<tr>
        	<th>Input Name</th>
        	<th>Input Type</th>
        	<th>Required?</th>
        	<th>Action</th>
    	</tr>
    	</thead>
    <tbody>
       
    </tbody>
    
	</table>
	</div>   
</div>
</div>
 
<div id = "addRemoveUsersDiv" class="container" style="display: none;">

	<select th:id="selectGroup" class="form-control" style="width:50%;">
				<option>Please select the Group</option>
	</select><br/>
	
<div class="col-sm-4">
		<button type= "button" class="btn btn-info add-new-user">
			<i class="fafa-plus"></i> Add new
		</button>
</div><br/>

 <table class="table table-striped user-header-fixed" id = "userTbl" >
    	<thead >
    	<tr> 
      	    <th>User id</th>
        	<th>User name</th>
        	<th>Role</th>
        	<th>isActive</th>
        	<th>Action</th>
    	</tr>
    	</thead>
    <tbody>
    </tbody>    
	</table>
</div>

<div id = "addRemoveGroupsDiv" class="container" style="display: none;">
	<button type= "button" class="btn btn-info add-new-group">
			<i class="fafa-plus"></i> Add new
		</button>
		
<table class="table table-striped role-header-fixed" id = "roleTbl" >
    	<thead >
    	<tr> 
      	    <th>Group id</th>
        	<th>Group name</th>
        	<th>Prefix</th> 
        	<th>Action</th>
    	</tr>
    	</thead>
    <tbody>
    </tbody>    
	</table>
</div>

<!-- <div id = "reportsDiv" class="container" style="display: none;">
<div th:if="${scriptList != null}" id = "selectedReportDiv" class="container-fluid row top-fields" style="z-index: 0;">
			  
    		 <div class="top-fields">
    		 	<div class="input-field col-md-3">
                   <select th:id="byScriptName" class="form-control">
				<option>Please select the script ...</option>
				<option th:each="item :${scriptList}" th:value="${item.scriptId}"
					th:text="${item.scriptName}"></option>
			   </select>
                </div>
                <div class="input-field col-md-3">
                    <input type="text" id="Status" name="username" placeholder="1. Name?" >
                </div>
                <div class="input-field col-md-3">
                    <input type="text" id="phone" name="phone" placeholder="2. Phone Number?" >
                </div>
                <div class="input-field col-md-3">
                    <input type="text" placeholder="3. Email ID?" id="email" name="email" >
                </div>
                <div class="input-field col-md-3">
                    <button type="button" class="btn btn-info auditSearch">
					<i class="fa fa-plus"></i> Search
					</button>
                </div>
                
            </div>
            </div>
</div>			
 --> 
			
<div id = "auditResultDiv" style="display: none;padding-top:12px;width:94%">
 
  <table id="auditTable" class="display">
      
       <!-- Header Table -->
       <thead>
            <tr>
            <th>Script id</th>
        	<th>Script name</th>
        	<th>Executed on</th>
        	<th>Execution time in Ms</th>
        	<th>Status</th>
        	<th>Executed by</th>
            </tr>
        </thead>
 </table>   
 <!-- 
	 <table class="table table-striped report-header-fixed" id = "auditTbl" >
    	<thead >
    	<tr>
    		<th>#</th>
      	    <th>Script id</th>
        	<th>Script name</th>
        	<th>Executed on</th>
        	<th>Executed in ms</th>
        	<th>Status</th>
        	<th>Executed by</th>
        	<th>Group Id</th>
    	</tr>
    	</thead>
    <tbody>
    </tbody>    
	</table>
--> 
</div>
<div id = "loggedInUsersDiv" class="container" style="display: none;">
</div>


<div class="container">
	<div class="row">
		<div class="col-md-6 col-md-offset-3">
			<span class="text-success" th:utext="${successMessage}"></span>
		</div>
	</div>
</div>

<div class="container">
	<div class="row">
		<div class="col-md-6 col-md-offset-3">
			<span class="text-success" th:utext="${errorMessage}"></span>
		</div>
	</div>
</div>
 
 
 <footer class="text-info mt-4 footer">
    <div class="container-fluid py-3">
        <div class="row">
            <div class="col-md-6"><a th:if="${#request.userPrincipal != null}" th:href="@{/logout}">Logout</a></div>
            <div class="col-md-3"><a th:if="${#request.userPrincipal != null}">Welcome : <span th:utext="${#request.userPrincipal.name}"></span> </a></div>
            <div class="col-md-3 text-right small align-self-end"><a th:if="${#request.userPrincipal != null}">Last used : <span th:utext="${lastUsed}"></span></a></div>
        </div>
    </div>
</footer>
 

</body>
    
</html>
